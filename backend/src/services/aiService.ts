import OpenAI from 'openai';
import { db } from '../models/database';

interface SurveyData {
  name: string;
  age: number;
  currentGrade: string;
  interests: string[];
  skills: string[];
  academicScores: {
    [subject: string]: number;
  };
  careerGoals: string;
  learningStyle: string;
  workEnvironmentPreference: string;
}

interface AIAnalysisResult {
  recommendedMajors: RecommendedMajor[];
  analysisSummary: string;
  strengths: string[];
  recommendations: string[];
  confidenceScore: number;
  fullResponse: any;
}

interface RecommendedMajor {
  majorId: number;
  majorName: string;
  majorCode: string;
  matchScore: number;
  reasons: string[];
}

export class AIService {
  private openai: OpenAI;

  constructor() {
    if (!process.env.OPENAI_API_KEY) {
      console.warn('‚ö†Ô∏è OPENAI_API_KEY not found. AI features will be limited.');
    }

    this.openai = new OpenAI({
      apiKey: process.env.OPENAI_API_KEY || 'demo-key',
    });
  }

  async analyzeCareerFit(surveyData: SurveyData): Promise<AIAnalysisResult> {
    try {
      // Get available majors from database
      const majors = await db.all('SELECT * FROM majors');
      
      // If no API key, use fallback analysis
      if (!process.env.OPENAI_API_KEY || process.env.OPENAI_API_KEY === 'demo-key') {
        console.log('üîÑ Using fallback rule-based analysis');
        return this.fallbackAnalysis(surveyData);
      }

      console.log('ü§ñ Processing AI analysis for survey:', surveyData.name);

      const prompt = `
Analyze this student's career fit based on their survey data:

Name: ${surveyData.name}
Age: ${surveyData.age}
Current Grade: ${surveyData.currentGrade}
Interests: ${surveyData.interests.join(', ')}
Skills: ${surveyData.skills.join(', ')}
Academic Scores: ${JSON.stringify(surveyData.academicScores)}
Career Goals: ${surveyData.careerGoals}
Learning Style: ${surveyData.learningStyle}
Work Environment Preference: ${surveyData.workEnvironmentPreference}

Available Majors:
${majors.map((m: any) => `- ${m.name} (${m.code}): ${m.description}`).join('\n')}

Please provide a detailed analysis in JSON format with:
1. Top 3 recommended majors with match scores (0-100) and reasons
2. Analysis summary in Vietnamese
3. Student's strengths
4. Specific recommendations for improvement
5. Overall confidence score (0-100)

Format the response as valid JSON.
      `;

      const completion = await this.openai.chat.completions.create({
        model: "gpt-3.5-turbo",
        messages: [
          { role: "system", content: "You are an expert career counselor for Vietnamese students. Provide detailed, accurate analysis in Vietnamese language." },
          { role: "user", content: prompt }
        ],
        temperature: 0.7,
        max_tokens: 1500,
      });

      const response = completion.choices[0]?.message?.content;
      if (!response) {
        throw new Error('No response from OpenAI');
      }

      // Parse the JSON response
      const analysis = JSON.parse(response);
      
      return {
        recommendedMajors: analysis.recommendedMajors || [],
        analysisSummary: analysis.analysisSummary || 'Ph√¢n t√≠ch chi ti·∫øt v·ªÅ ph√π h·ª£p ngh·ªÅ nghi·ªáp.',
        strengths: analysis.strengths || ['C√≥ ƒë·ªông l·ª±c h·ªçc t·∫≠p'],
        recommendations: analysis.recommendations || ['Ti·∫øp t·ª•c ph√°t tri·ªÉn k·ªπ nƒÉng'],
        confidenceScore: analysis.confidenceScore || 85,
        fullResponse: analysis
      };

    } catch (error: any) {
      console.error('‚ùå AI Analysis Error:', error);
      console.log('üîÑ Using fallback rule-based analysis');
      return this.fallbackAnalysis(surveyData);
    }
  }

  private fallbackAnalysis(surveyData: SurveyData): AIAnalysisResult {
    console.log('üîÑ Using fallback rule-based analysis');

    // Advanced rule-based matching
    const recommendations: RecommendedMajor[] = [];
    const scores: {[key: string]: number} = {};

    // Calculate scores for each major based on multiple factors
    
    // IT Score
    let itScore = 60; // Base score
    if (surveyData.interests.includes('C√¥ng ngh·ªá th√¥ng tin')) itScore += 20;
    if (surveyData.skills.includes('L·∫≠p tr√¨nh')) itScore += 15;
    if (surveyData.skills.includes('T∆∞ duy logic')) itScore += 10;
    if (surveyData.academicScores.math >= 8) itScore += 15;
    if (surveyData.academicScores.physics >= 7) itScore += 10;
    if (surveyData.careerGoals.toLowerCase().includes('l·∫≠p tr√¨nh')) itScore += 10;
    scores['IT'] = Math.min(itScore, 98);

    // Design Score
    let designScore = 50;
    if (surveyData.interests.includes('Thi·∫øt k·∫ø ƒë·ªì h·ªça')) designScore += 25;
    if (surveyData.skills.includes('S√°ng t·∫°o')) designScore += 20;
    if (surveyData.skills.includes('Thi·∫øt k·∫ø')) designScore += 15;
    if (surveyData.interests.includes('Ngh·ªá thu·∫≠t')) designScore += 15;
    if (surveyData.learningStyle === 'visual') designScore += 10;
    scores['GD'] = Math.min(designScore, 95);

    // Marketing Score
    let marketingScore = 55;
    if (surveyData.interests.includes('Marketing')) marketingScore += 20;
    if (surveyData.skills.includes('Giao ti·∫øp')) marketingScore += 15;
    if (surveyData.skills.includes('Thuy·∫øt tr√¨nh')) marketingScore += 15;
    if (surveyData.workEnvironmentPreference === 'office') marketingScore += 5;
    if (surveyData.academicScores.english >= 7) marketingScore += 10;
    scores['MKT'] = Math.min(marketingScore, 92);

    // Sort by score and take top 3
    const sortedMajors = Object.entries(scores)
      .sort(([,a], [,b]) => b - a)
      .slice(0, 3);

    const majorNames = {
      'IT': 'C√¥ng ngh·ªá th√¥ng tin',
      'GD': 'Thi·∫øt k·∫ø ƒë·ªì h·ªça', 
      'MKT': 'Marketing'
    };

    const majorIds = {
      'IT': 1, 'GD': 2, 'MKT': 3
    };

    sortedMajors.forEach(([code, score]) => {
      const reasons = [];
      if (code === 'IT' && surveyData.academicScores.math >= 7) reasons.push('ƒêi·ªÉm to√°n cao');
      if (code === 'GD' && surveyData.skills.includes('S√°ng t·∫°o')) reasons.push('C√≥ kh·∫£ nƒÉng s√°ng t·∫°o');
      if (code === 'MKT' && surveyData.skills.includes('Giao ti·∫øp')) reasons.push('K·ªπ nƒÉng giao ti·∫øp t·ªët');
      
      reasons.push(`Ph√π h·ª£p v·ªõi s·ªü th√≠ch c·ªßa b·∫°n`);
      reasons.push(`Ph√π h·ª£p v·ªõi nƒÉng l·ª±c hi·ªán t·∫°i`);

      recommendations.push({
        majorId: majorIds[code as keyof typeof majorIds],
        majorName: majorNames[code as keyof typeof majorNames],
        majorCode: code,
        matchScore: Math.round(score),
        reasons: reasons.slice(0, 3)
      });
    });

    return {
      recommendedMajors: recommendations.slice(0, 3),
      analysisSummary: `D·ª±a tr√™n ph√¢n t√≠ch s·ªü th√≠ch v√† k·ªπ nƒÉng c·ªßa ${surveyData.name}, ch√∫ng t√¥i khuy·∫øn ngh·ªã c√°c ng√†nh h·ªçc ph√π h·ª£p v·ªõi ƒë·ªãnh h∆∞·ªõng ngh·ªÅ nghi·ªáp.`,
      strengths: ['C√≥ ƒë·ªông l·ª±c h·ªçc t·∫≠p', 'Quan t√¢m ƒë·∫øn t∆∞∆°ng lai'],
      recommendations: ['Ti·∫øp t·ª•c ph√°t tri·ªÉn k·ªπ nƒÉng chuy√™n m√¥n', 'Tham gia c√°c ho·∫°t ƒë·ªông th·ª±c h√†nh'],
      confidenceScore: 80,
      fullResponse: {
        timestamp: new Date().toISOString()
      }
    };
  }

  async generateChatResponse(message: string, context?: any): Promise<string> {
    // Always use fallback responses when no valid API key
    if (!process.env.OPENAI_API_KEY || process.env.OPENAI_API_KEY === 'demo-key') {
      console.log('üîÑ Using fallback chat response');
      return this.generateFallbackChatResponse(message);
    }

    try {
      const systemPrompt = `
B·∫°n l√† chatbot t∆∞ v·∫•n gi√°o d·ª•c c·ªßa FPT Polytechnic. 
H√£y tr·∫£ l·ªùi c√°c c√¢u h·ªèi v·ªÅ:
- C√°c ng√†nh h·ªçc t·∫°i FPT Polytechnic
- T∆∞ v·∫•n ƒë·ªãnh h∆∞·ªõng ngh·ªÅ nghi·ªáp
- Th√¥ng tin tuy·ªÉn sinh
- C∆° h·ªôi vi·ªác l√†m sau t·ªët nghi·ªáp

Tr·∫£ l·ªùi b·∫±ng ti·∫øng Vi·ªát, th√¢n thi·ªán v√† h·ªØu √≠ch.
      `;

      const completion = await this.openai.chat.completions.create({
        model: "gpt-3.5-turbo",
        messages: [
          { role: "system", content: systemPrompt },
          { role: "user", content: message }
        ],
        temperature: 0.7,
        max_tokens: 500,
      });

      return completion.choices[0]?.message?.content || 'Xin l·ªói, t√¥i kh√¥ng th·ªÉ tr·∫£ l·ªùi c√¢u h·ªèi n√†y l√∫c n√†y.';

    } catch (error) {
      console.error('‚ùå Chat AI Error:', error);
      return this.generateFallbackChatResponse(message);
    }
  }

  private generateFallbackChatResponse(message: string): string {
    // Normalize Vietnamese characters and convert to lowercase
    const msg = message.toLowerCase().normalize('NFC');
    
    // Advanced contextual pattern matching with confidence scoring
    const contextualResponses = this.analyzeContextualPatterns(msg);
    
    // Find the response with highest confidence score
    const bestResponse = this.selectBestResponse(contextualResponses);
    
    if (bestResponse && bestResponse.confidence >= 0.7) {
      return bestResponse.response;
    }
    
    // Fallback to profile-based analysis if no high-confidence match
    const userProfile = this.analyzeUserProfile(msg);
    
    // Generate personalized response based on user profile
    if (userProfile.concerns.length > 0 || userProfile.interests.length > 0) {
      return this.generatePersonalizedAdvice(userProfile, msg);
    }
    
    // Check for math concerns with IT interest (more flexible patterns)
    const mathConcerns = ['d·ªët to√°n', 'h·ªçc d·ªët to√°n', 'k√©m to√°n', 'y·∫øu to√°n', 'kh√¥ng gi·ªèi to√°n', 'to√°n k√©m', 'to√°n d·ªü', 'to√°n kh√¥ng t·ªët', 'kh√¥ng kh√° to√°n', 'y·∫øu v·ªÅ to√°n', 'to√°n h·ªçc kh√¥ng t·ªët'];
    const itInterests = ['c√¥ng ngh·ªá th√¥ng tin', 'it', 'l·∫≠p tr√¨nh', 'ph·∫ßn m·ªÅm', 'm√°y t√≠nh', 'developer', 'coder', 'programmer', 'software', 'app'];
    
    const hasMathConcern = mathConcerns.some(concern => msg.includes(concern));
    const hasItInterest = itInterests.some(interest => msg.includes(interest));
    
    if (hasMathConcern && hasItInterest) {
      const mathItResponses = [
        `ü§î **H·ªçc d·ªët to√°n c√≥ th·ªÉ h·ªçc IT kh√¥ng?**

‚úÖ **Tin t·ªët:** HO√ÄN TO√ÄN ƒê∆Ø·ª¢C! Nhi·ªÅu l·∫≠p tr√¨nh vi√™n gi·ªèi kh√¥ng xu·∫•t th√¢n t·ª´ to√°n h·ªçc.

üìä **Th·ª±c t·∫ø v·ªÅ to√°n trong IT:**
‚Ä¢ 70% c√¥ng vi·ªác IT ch·ªâ c·∫ßn to√°n c∆° b·∫£n (c·ªông, tr·ª´, nh√¢n, chia)
‚Ä¢ Logic t∆∞ duy quan tr·ªçng h∆°n t√≠nh to√°n ph·ª©c t·∫°p
‚Ä¢ C√≥ c√¥ng c·ª• v√† th∆∞ vi·ªán h·ªó tr·ª£ m·ªçi ph√©p t√≠nh

üéØ **C√°c lƒ©nh v·ª±c IT √≠t c·∫ßn to√°n:**
‚Ä¢ Frontend Development (HTML, CSS, JavaScript)
‚Ä¢ Mobile App Development  
‚Ä¢ UI/UX Design
‚Ä¢ Software Testing

üí° **L·ªùi khuy√™n:**
‚Ä¢ T·∫≠p trung v√†o logic v√† t∆∞ duy thu·∫≠t to√°n
‚Ä¢ H·ªçc t·ª´ c∆° b·∫£n, t·ª´ t·ª´ x√¢y d·ª±ng n·ªÅn t·∫£ng
‚Ä¢ Th·ª±c h√†nh nhi·ªÅu h∆°n l√Ω thuy·∫øt

üöÄ B·∫°n c√≥ mu·ªën t√¥i t∆∞ v·∫•n l·ªô tr√¨nh h·ªçc IT ph√π h·ª£p v·ªõi ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu kh√¥ng?`,

        `üíª **To√°n k√©m v·∫´n c√≥ th·ªÉ th√†nh c√¥ng trong IT!**

üåü **C√¢u chuy·ªán th·ª±c t·∫ø:**
Nhi·ªÅu CEO c√¥ng ngh·ªá n·ªïi ti·∫øng nh∆∞ Jack Dorsey (Twitter) kh√¥ng gi·ªèi to√°n nh∆∞ng v·∫´n th√†nh c√¥ng!

üß† **K·ªπ nƒÉng quan tr·ªçng h∆°n to√°n:**
‚Ä¢ T∆∞ duy logic v√† gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ
‚Ä¢ Kh·∫£ nƒÉng h·ªçc h·ªèi v√† th√≠ch nghi
‚Ä¢ Ki√™n nh·∫´n v√† t·ªâ m·ªâ trong code
‚Ä¢ Giao ti·∫øp v√† l√†m vi·ªác nh√≥m

üé® **Lƒ©nh v·ª±c IT th√¢n thi·ªán v·ªõi ng∆∞·ªùi k√©m to√°n:**
‚Ä¢ Web Design & Frontend
‚Ä¢ Mobile App UI/UX  
‚Ä¢ Game Development (ph·∫ßn thi·∫øt k·∫ø)
‚Ä¢ Digital Marketing & SEO

üí™ **B√≠ quy·∫øt th√†nh c√¥ng:**
‚Ä¢ B·∫Øt ƒë·∫ßu v·ªõi HTML/CSS ƒë∆°n gi·∫£n
‚Ä¢ H·ªçc JavaScript t·ª´ t·ª´, step by step
‚Ä¢ Tham gia c·ªông ƒë·ªìng l·∫≠p tr√¨nh vi√™n
‚Ä¢ L√†m project th·ª±c t·∫ø thay v√¨ h·ªçc thu·∫ßn l√Ω thuy·∫øt

B·∫°n mu·ªën b·∫Øt ƒë·∫ßu t·ª´ ƒë√¢u? T√¥i c√≥ th·ªÉ g·ª£i √Ω roadmap chi ti·∫øt! üó∫Ô∏è`,

        `üöÄ **To√°n d·ªü kh√¥ng ph·∫£i r√†o c·∫£n v·ªõi IT!**

üìà **Th·ªëng k√™ th√∫ v·ªã:**
‚Ä¢ 60% l·∫≠p tr√¨nh vi√™n t·ª± h·ªçc, kh√¥ng c√≥ n·ªÅn t·∫£ng to√°n m·∫°nh
‚Ä¢ C√°c framework hi·ªán ƒë·∫°i ƒë√£ gi·∫£i quy·∫øt ph·∫ßn to√°n ph·ª©c t·∫°p
‚Ä¢ AI v√† Low-code ƒëang l√†m l·∫≠p tr√¨nh d·ªÖ ti·∫øp c·∫≠n h∆°n

üéØ **L·ªô tr√¨nh d√†nh ri√™ng cho b·∫°n:**

**Th√°ng 1-2:** HTML + CSS c∆° b·∫£n
‚Ä¢ T·∫°o website tƒ©nh ƒë∆°n gi·∫£n
‚Ä¢ H·ªçc Flexbox v√† Grid layout
‚Ä¢ Th·ª±c h√†nh v·ªõi Bootstrap

**Th√°ng 3-4:** JavaScript cƒÉn b·∫£n
‚Ä¢ Bi·∫øn, h√†m, ƒëi·ªÅu ki·ªán c∆° b·∫£n
‚Ä¢ DOM manipulation
‚Ä¢ L√†m calculator, todo app

**Th√°ng 5-6:** Framework ƒë·∫ßu ti√™n
‚Ä¢ React ho·∫∑c Vue.js
‚Ä¢ Component thinking
‚Ä¢ Build project portfolio

üí° **M·∫πo h·ªçc hi·ªáu qu·∫£:**
‚Ä¢ YouTube v√† Udemy c√≥ kh√≥a h·ªçc mi·ªÖn ph√≠
‚Ä¢ Tham gia group Facebook "H·ªçc l·∫≠p tr√¨nh"
‚Ä¢ Code m·ªói ng√†y, d√π ch·ªâ 30 ph√∫t

B·∫°n c√≥ s·∫µn s√†ng b·∫Øt ƒë·∫ßu h√†nh tr√¨nh n√†y kh√¥ng? üåü`
      ];
      return mathItResponses[Math.floor(Math.random() * mathItResponses.length)];
    }

    // Check for drawing concerns with design interest
    const drawingConcerns = ['kh√¥ng bi·∫øt v·∫Ω', 'kh√¥ng gi·ªèi v·∫Ω', 'v·∫Ω d·ªü', 'ch∆∞a bi·∫øt v·∫Ω', 'v·∫Ω kh√¥ng ƒë·∫πp', 'kh√¥ng c√≥ t√†i nƒÉng v·∫Ω'];
    const designInterests = ['thi·∫øt k·∫ø', 'ƒë·ªì h·ªça', 'design', 'ui/ux', 'graphic', 'designer'];
    
    const hasDrawingConcern = drawingConcerns.some(concern => msg.includes(concern));
    const hasDesignInterest = designInterests.some(interest => msg.includes(interest));
    
    if (hasDrawingConcern && hasDesignInterest) {
      return `üé® **Kh√¥ng bi·∫øt v·∫Ω c√≥ h·ªçc ƒë∆∞·ª£c Thi·∫øt k·∫ø kh√¥ng?**

‚úÖ **Tin t·ªët:** C√ì TH·ªÇ H·ªåC ƒê∆Ø·ª¢C! Thi·∫øt k·∫ø hi·ªán ƒë·∫°i kh√°c xa v·ªõi v·∫Ω tay truy·ªÅn th·ªëng.

üñ•Ô∏è **Thi·∫øt k·∫ø s·ªë hi·ªán t·∫°i:**
‚Ä¢ 90% l√†m vi·ªác tr√™n m√°y t√≠nh (Photoshop, Illustrator)
‚Ä¢ C√≥ template v√† asset c√≥ s·∫µn
‚Ä¢ AI h·ªó tr·ª£ t·∫°o √Ω t∆∞·ªüng v√† n·ªôi dung
‚Ä¢ T·∫≠p trung v√†o √Ω t∆∞·ªüng h∆°n k·ªπ thu·∫≠t v·∫Ω

üéØ **K·ªπ nƒÉng quan tr·ªçng h∆°n v·∫Ω tay:**
‚Ä¢ T∆∞ duy s√°ng t·∫°o v√† th·∫©m m·ªπ
‚Ä¢ Hi·ªÉu t√¢m l√Ω kh√°ch h√†ng
‚Ä¢ Xu h∆∞·ªõng m√†u s·∫Øc, font ch·ªØ
‚Ä¢ K·ªπ nƒÉng s·ª≠ d·ª•ng ph·∫ßn m·ªÅm

üí° **L·ªùi khuy√™n:**
‚Ä¢ B·∫Øt ƒë·∫ßu h·ªçc Photoshop c∆° b·∫£n
‚Ä¢ Tham kh·∫£o thi·∫øt k·∫ø tr√™n Pinterest, Behance
‚Ä¢ Th·ª±c h√†nh l√†m poster, banner ƒë∆°n gi·∫£n

üöÄ Quan tr·ªçng l√† C·∫¢M TH·∫®M M·ª∏, kh√¥ng ph·∫£i tay ngh·ªÅ v·∫Ω! B·∫°n c√≥ th√≠ch m√†u s·∫Øc v√† b·ªë c·ª•c ƒë·∫πp kh√¥ng?`;
    }

    // Check for financial concerns
    const financialConcerns = ['gia ƒë√¨nh ngh√®o', 'kh√¥ng c√≥ ti·ªÅn', 'kinh t·∫ø kh√≥ khƒÉn', 'h·ªçc ph√≠ cao', 'kh√¥ng ƒë·ªß ti·ªÅn'];
    const hasFinancialConcern = financialConcerns.some(concern => msg.includes(concern));
    
    if (hasFinancialConcern) {
      return `üí∞ **Kh√≥ khƒÉn kinh t·∫ø c√≥ th·ªÉ h·ªçc ƒë∆∞·ª£c kh√¥ng?**

‚úÖ **ƒê·ª´ng lo l·∫Øng!** FPT Polytechnic c√≥ nhi·ªÅu ch√≠nh s√°ch h·ªó tr·ª£:

üéì **H·ªçc b·ªïng:**
‚Ä¢ H·ªçc b·ªïng 100% cho h·ªçc sinh gi·ªèi
‚Ä¢ H·ªçc b·ªïng 50% cho ho√†n c·∫£nh kh√≥ khƒÉn
‚Ä¢ H·ªçc b·ªïng t√†i nƒÉng ƒë·∫∑c bi·ªát

üí≥ **H·ªó tr·ª£ t√†i ch√≠nh:**
‚Ä¢ Tr·∫£ g√≥p h·ªçc ph√≠ 0% l√£i su·∫•t
‚Ä¢ Vay v·ªën ∆∞u ƒë√£i t·ª´ ng√¢n h√†ng
‚Ä¢ L√†m part-time t·∫°i tr∆∞·ªùng

üè¢ **C∆° h·ªôi vi·ªác l√†m:**
‚Ä¢ Th·ª±c t·∫≠p c√≥ l∆∞∆°ng t·ª´ nƒÉm 2
‚Ä¢ Job fair v·ªõi m·ª©c l∆∞∆°ng h·∫•p d·∫´n
‚Ä¢ Cam k·∫øt vi·ªác l√†m sau t·ªët nghi·ªáp

üí° **L·ªùi khuy√™n:** H√£y ƒëƒÉng k√Ω t∆∞ v·∫•n ƒë·ªÉ bi·∫øt c√°c ch∆∞∆°ng tr√¨nh h·ªó tr·ª£ c·ª• th·ªÉ!

B·∫°n mu·ªën bi·∫øt th√™m v·ªÅ h·ªçc b·ªïng n√†o?`;
    }

    // Greetings and general questions
    if (msg.includes('xin ch√†o') || msg.includes('hello') || msg.includes('hi') || msg === 'ch√†o' || 
        msg.includes('alo') || msg.includes('al√¥') || msg.includes('hey') || 
        msg === 'ch√†o b·∫°n' || msg === 'ch√†o em' || msg.includes('good morning') || 
        msg.includes('good afternoon') || msg.includes('good evening')) {
      const greetings = [
        `Ch√†o b·∫°n! üëã T√¥i l√† AI t∆∞ v·∫•n tuy·ªÉn sinh FPT Polytechnic. B·∫°n ƒëang quan t√¢m ng√†nh h·ªçc n√†o v·∫≠y?`,
        `Xin ch√†o! üéì R·∫•t vui ƒë∆∞·ª£c h·ªó tr·ª£ b·∫°n t√¨m hi·ªÉu v·ªÅ c√°c ng√†nh h·ªçc t·∫°i FPT Polytechnic. B·∫°n c·∫ßn t∆∞ v·∫•n g√¨?`,
        `Hi b·∫°n! ‚ú® T√¥i c√≥ th·ªÉ gi√∫p b·∫°n kh√°m ph√° c√°c c∆° h·ªôi h·ªçc t·∫≠p t·∫°i FPT Polytechnic. H√£y cho t√¥i bi·∫øt b·∫°n quan t√¢m ƒëi·ªÅu g√¨ nh√©!`,
        `Al√¥! üìû T√¥i ƒë√¢y, AI t∆∞ v·∫•n FPT Polytechnic. B·∫°n mu·ªën t√¨m hi·ªÉu ng√†nh h·ªçc n√†o ·∫°?`
      ];
      return greetings[Math.floor(Math.random() * greetings.length)];
    }

    // IT related
    if (msg.includes('c√¥ng ngh·ªá th√¥ng tin') || msg.includes('it') || msg.includes('l·∫≠p tr√¨nh') || msg.includes('ph·∫ßn m·ªÅm')) {
      const itResponses = [
        `üñ•Ô∏è **Ng√†nh C√¥ng ngh·ªá th√¥ng tin - L·ª±a ch·ªçn hot nh·∫•t hi·ªán nay!**

üìö **Ch∆∞∆°ng tr√¨nh h·ªçc:**
‚Ä¢ L·∫≠p tr√¨nh Java, Python, C#
‚Ä¢ Ph√°t tri·ªÉn Web & Mobile App  
‚Ä¢ Database & Cloud Computing
‚Ä¢ AI & Machine Learning c∆° b·∫£n

üíº **C∆° h·ªôi ngh·ªÅ nghi·ªáp:**
‚Ä¢ Fullstack Developer (15-30 tri·ªáu)
‚Ä¢ Mobile App Developer (12-25 tri·ªáu)
‚Ä¢ DevOps Engineer (20-40 tri·ªáu)
‚Ä¢ Data Analyst (15-35 tri·ªáu)

üéØ B·∫°n c√≥ mu·ªën bi·∫øt th√™m v·ªÅ l·ªô tr√¨nh h·ªçc ho·∫∑c ƒëi·ªÅu ki·ªán tuy·ªÉn sinh kh√¥ng?`,

        `üíª **IT t·∫°i FPT Polytechnic - N∆°i ∆∞∆°m m·∫ßm l·∫≠p tr√¨nh vi√™n!**

üî• **T·∫°i sao ch·ªçn IT:**
‚Ä¢ Ng√†nh c√≥ nhu c·∫ßu tuy·ªÉn d·ª•ng cao nh·∫•t
‚Ä¢ M·ª©c l∆∞∆°ng kh·ªüi ƒëi·ªÉm h·∫•p d·∫´n
‚Ä¢ C∆° h·ªôi l√†m vi·ªác remote, freelance
‚Ä¢ Ph√°t tri·ªÉn s·ª± nghi·ªáp nhanh

üõ†Ô∏è **C√¥ng ngh·ªá ƒë∆∞·ª£c h·ªçc:**
ReactJS, NodeJS, Flutter, Docker, AWS...

B·∫°n ƒë√£ c√≥ ki·∫øn th·ª©c l·∫≠p tr√¨nh n√†o ch∆∞a? T√¥i c√≥ th·ªÉ t∆∞ v·∫•n l·ªô tr√¨nh ph√π h·ª£p!`
      ];
      return itResponses[Math.floor(Math.random() * itResponses.length)];
    }

    // Random encouraging responses for unclear messages
    const randomResponses = [
      `üåü T√¥i hi·ªÉu b·∫°n ƒëang t√¨m hi·ªÉu v·ªÅ ƒë·ªãnh h∆∞·ªõng h·ªçc t·∫≠p. H√£y chia s·∫ª v·ªõi t√¥i: b·∫°n th√≠ch l√†m g√¨ trong th·ªùi gian r·∫£nh? T·ª´ ƒë√≥ t√¥i c√≥ th·ªÉ t∆∞ v·∫•n ng√†nh h·ªçc ph√π h·ª£p nh·∫•t!`,
      
      `üí° M·ªói ng√†nh h·ªçc ƒë·ªÅu c√≥ nh·ªØng ƒëi·ªÉm th√∫ v·ªã ri√™ng! B·∫°n c√≥ th·ªÉ k·ªÉ cho t√¥i nghe v·ªÅ nh·ªØng m√¥n h·ªçc y√™u th√≠ch ·ªü tr∆∞·ªùng kh√¥ng? T√¥i s·∫Ω g·ª£i √Ω ng√†nh ph√π h·ª£p!`,
      
      `üéØ ƒê·ªÉ t∆∞ v·∫•n ch√≠nh x√°c nh·∫•t, b·∫°n c√≥ th·ªÉ cho t√¥i bi·∫øt: b·∫°n l√† ng∆∞·ªùi th√≠ch s√°ng t·∫°o, t√≠nh to√°n, hay giao ti·∫øp? M·ªói t√≠nh c√°ch s·∫Ω ph√π h·ª£p v·ªõi nh·ªØng ng√†nh kh√°c nhau!`,
      
      `üöÄ FPT Polytechnic c√≥ nhi·ªÅu ng√†nh hot nh∆∞ IT, Thi·∫øt k·∫ø, Marketing... B·∫°n mu·ªën bi·∫øt ng√†nh n√†o c√≥ m·ª©c l∆∞∆°ng cao nh·∫•t? Hay c∆° h·ªôi vi·ªác l√†m t·ªët nh·∫•t?`
    ];

    return randomResponses[Math.floor(Math.random() * randomResponses.length)];
  }

  // Advanced user profile analysis
  private analyzeUserProfile(message: string): { concerns: string[], interests: string[], personality: string[], demographics: string[] } {
    const profile = {
      concerns: [] as string[],
      interests: [] as string[],
      personality: [] as string[],
      demographics: [] as string[]
    };

    // Academic concerns
    if (message.includes('d·ªët') || message.includes('k√©m') || message.includes('y·∫øu') || message.includes('kh√¥ng gi·ªèi')) {
      profile.concerns.push('academic_weakness');
    }

    // Financial concerns
    if (message.includes('ngh√®o') || message.includes('kh√¥ng c√≥ ti·ªÅn') || message.includes('kinh t·∫ø kh√≥ khƒÉn') || message.includes('h·ªçc ph√≠')) {
      profile.concerns.push('financial');
    }

    // Age-related concerns
    if (message.includes('tu·ªïi') || message.includes('gi√†') || message.includes('tr·∫ª') || message.includes('mu·ªôn')) {
      profile.concerns.push('age');
    }

    // Gender-related
    if (message.includes('con g√°i') || message.includes('n·ªØ') || message.includes('girl') || message.includes('female')) {
      profile.demographics.push('female');
    }

    // Technology interests
    if (message.includes('c√¥ng ngh·ªá') || message.includes('m√°y t√≠nh') || message.includes('l·∫≠p tr√¨nh') || message.includes('it')) {
      profile.interests.push('technology');
    }

    // Design interests
    if (message.includes('thi·∫øt k·∫ø') || message.includes('ƒë·ªì h·ªça') || message.includes('v·∫Ω') || message.includes('design')) {
      profile.interests.push('design');
    }

    // Business interests
    if (message.includes('kinh doanh') || message.includes('marketing') || message.includes('b√°n h√†ng') || message.includes('qu·∫£n l√Ω')) {
      profile.interests.push('business');
    }

    // Personality traits
    if (message.includes('th√≠ch s√°ng t·∫°o') || message.includes('s√°ng t·∫°o') || message.includes('ngh·ªá thu·∫≠t')) {
      profile.personality.push('creative');
    }

    if (message.includes('th√≠ch t√≠nh to√°n') || message.includes('logic') || message.includes('ph√¢n t√≠ch')) {
      profile.personality.push('analytical');
    }

    if (message.includes('th√≠ch giao ti·∫øp') || message.includes('n√≥i chuy·ªán') || message.includes('social')) {
      profile.personality.push('social');
    }

    return profile;
  }

  // Generate personalized advice based on user profile
  private generatePersonalizedAdvice(profile: any, originalMessage: string): string {
    // Academic weakness support
    if (profile.concerns.includes('academic_weakness')) {
      if (profile.interests.includes('technology')) {
        return this.generateAcademicSupportResponse('IT');
      } else if (profile.interests.includes('design')) {
        return this.generateAcademicSupportResponse('Design');
      }
    }

    // Financial support
    if (profile.concerns.includes('financial')) {
      return this.generateFinancialSupportResponse();
    }

    // Age-appropriate advice
    if (profile.concerns.includes('age')) {
      return this.generateAgeAppropriateResponse();
    }

    // Gender-specific encouragement
    if (profile.demographics.includes('female') && profile.interests.includes('technology')) {
      return this.generateGenderEncouragementResponse();
    }

    // Interest-based responses
    if (profile.interests.includes('technology')) {
      return this.generateTechCareerAdvice();
    } else if (profile.interests.includes('design')) {
      return this.generateDesignCareerAdvice();
    } else if (profile.interests.includes('business')) {
      return this.generateBusinessCareerAdvice();
    }

    // Personality-based responses
    if (profile.personality.includes('creative')) {
      return this.generateCreativeCareerAdvice();
    } else if (profile.personality.includes('analytical')) {
      return this.generateAnalyticalCareerAdvice();
    } else if (profile.personality.includes('social')) {
      return this.generateSocialCareerAdvice();
    }

    return this.generateGeneralEncouragement();
  }

  private generateAcademicSupportResponse(field: string): string {
    const responses = {
      'IT': `üí™ **ƒê·ª´ng lo v·ªÅ h·ªçc l·ª±c! Th√†nh c√¥ng trong IT kh√¥ng ch·ªâ ph·ª• thu·ªôc v√†o ƒëi·ªÉm s·ªë!**

üåü **Nh·ªØng ƒëi·ªÅu quan tr·ªçng h∆°n ƒëi·ªÉm s·ªë:**
‚Ä¢ ƒêam m√™ v√† ki√™n tr√¨ h·ªçc h·ªèi
‚Ä¢ Kh·∫£ nƒÉng t·ª± h·ªçc v√† t√¨m hi·ªÉu
‚Ä¢ T∆∞ duy gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ
‚Ä¢ Th·ª±c h√†nh v√† l√†m project

üöÄ **L·ªô tr√¨nh ph√π h·ª£p cho b·∫°n:**
‚Ä¢ B·∫Øt ƒë·∫ßu v·ªõi HTML/CSS c∆° b·∫£n
‚Ä¢ T·∫≠p trung v√†o th·ª±c h√†nh nhi·ªÅu h∆°n l√Ω thuy·∫øt
‚Ä¢ Tham gia c·ªông ƒë·ªìng h·ªçc l·∫≠p tr√¨nh
‚Ä¢ X√¢y d·ª±ng portfolio t·ª´ project nh·ªè

üí° **C√¢u chuy·ªán ƒë·ªông vi√™n:** Nhi·ªÅu l·∫≠p tr√¨nh vi√™n th√†nh c√¥ng kh√¥ng xu·∫•t th√¢n t·ª´ h·ªçc sinh gi·ªèi!`,

      'Design': `üé® **Thi·∫øt k·∫ø kh√¥ng c·∫ßn ƒëi·ªÉm s·ªë cao, c·∫ßn C·∫¢M H·ª®NG v√† S√ÅNG T·∫†O!**

‚ú® **Nh·ªØng ƒëi·ªÅu quan tr·ªçng trong Design:**
‚Ä¢ C·∫£m th·∫©m m·ªπ v√† √≥c s√°ng t·∫°o
‚Ä¢ Kh·∫£ nƒÉng quan s√°t v√† h·ªçc h·ªèi
‚Ä¢ Ki√™n nh·∫´n v√† t·ªâ m·ªâ
‚Ä¢ Hi·ªÉu t√¢m l√Ω ng∆∞·ªùi d√πng

üéØ **B·∫Øt ƒë·∫ßu ngay t·ª´ h√¥m nay:**
‚Ä¢ T·∫£i Canva ho·∫∑c Figma mi·ªÖn ph√≠
‚Ä¢ Th·ª±c h√†nh thi·∫øt k·∫ø poster, banner
‚Ä¢ Theo d√µi c√°c designer n·ªïi ti·∫øng
‚Ä¢ Tham gia c√°c contest design

üåà **Remember:** Creativity > Grades!`
    };

    return responses[field as keyof typeof responses] || responses['IT'];
  }

  private generateFinancialSupportResponse(): string {
    return `üí∞ **ƒê·ª´ng ƒë·ªÉ t√†i ch√≠nh c·∫£n tr·ªü ∆∞·ªõc m∆° c·ªßa b·∫°n!**

üéì **C√°c ch∆∞∆°ng tr√¨nh h·ªó tr·ª£ t·∫°i FPT Polytechnic:**

**H·ªçc b·ªïng:**
‚Ä¢ 100% h·ªçc ph√≠ cho h·ªçc sinh xu·∫•t s·∫Øc
‚Ä¢ 50% h·ªçc ph√≠ cho ho√†n c·∫£nh kh√≥ khƒÉn
‚Ä¢ H·ªçc b·ªïng t√†i nƒÉng ƒë·∫∑c bi·ªát

**H·ªó tr·ª£ t√†i ch√≠nh:**
‚Ä¢ Tr·∫£ g√≥p 0% l√£i su·∫•t
‚Ä¢ Vay v·ªën ∆∞u ƒë√£i t·ª´ ng√¢n h√†ng
‚Ä¢ Part-time job t·∫°i tr∆∞·ªùng

**C∆° h·ªôi ki·∫øm ti·ªÅn:**
‚Ä¢ Freelance t·ª´ nƒÉm 2
‚Ä¢ Th·ª±c t·∫≠p c√≥ l∆∞∆°ng cao
‚Ä¢ Job guarantee sau t·ªët nghi·ªáp

üí™ **Nhi·ªÅu sinh vi√™n ƒë√£ v∆∞·ª£t kh√≥ th√†nh c√¥ng!** B·∫°n c≈©ng c√≥ th·ªÉ l√†m ƒë∆∞·ª£c!

Li√™n h·ªá t∆∞ v·∫•n: 1900-6969 ƒë·ªÉ bi·∫øt chi ti·∫øt c√°c ch∆∞∆°ng tr√¨nh h·ªó tr·ª£!`;
  }

  private generateAgeAppropriateResponse(): string {
    return `‚è∞ **Tu·ªïi t√°c ch·ªâ l√† con s·ªë! H·ªçc t·∫≠p kh√¥ng bao gi·ªù l√† qu√° mu·ªôn!**

üåü **Th√†nh c√¥ng kh√¥ng ph√¢n bi·ªát tu·ªïi t√°c:**
‚Ä¢ Colonel Sanders th√†nh l·∫≠p KFC ·ªü tu·ªïi 62
‚Ä¢ Vera Wang b·∫Øt ƒë·∫ßu thi·∫øt k·∫ø th·ªùi trang ·ªü tu·ªïi 40
‚Ä¢ Nhi·ªÅu developer th√†nh c√¥ng b·∫Øt ƒë·∫ßu sau 30 tu·ªïi

üéØ **L·ª£i th·∫ø c·ªßa ng∆∞·ªùi h·ªçc mu·ªôn:**
‚Ä¢ Kinh nghi·ªám s·ªëng phong ph√∫
‚Ä¢ M·ª•c ti√™u r√µ r√†ng v√† quy·∫øt t√¢m cao
‚Ä¢ Kh·∫£ nƒÉng t·∫≠p trung t·ªët h∆°n
‚Ä¢ Hi·ªÉu r√µ gi√° tr·ªã c·ªßa c∆° h·ªôi

üí™ **L·ªùi khuy√™n:**
‚Ä¢ T·∫≠p trung v√†o k·ªπ nƒÉng th·ª±c t·∫ø
‚Ä¢ H·ªçc online linh ho·∫°t th·ªùi gian
‚Ä¢ T·∫≠n d·ª•ng kinh nghi·ªám c≈©
‚Ä¢ Networking v·ªõi ng∆∞·ªùi c√πng tu·ªïi

üöÄ **It's never too late to start!**`;
  }

  private generateGenderEncouragementResponse(): string {
    return `üë©‚Äçüíª **N·ªØ gi·ªõi trong IT - S·ª©c m·∫°nh ƒëang l√™n!**

üåü **Th·ªëng k√™ ƒë√°ng t·ª± h√†o:**
‚Ä¢ 25% l·∫≠p tr√¨nh vi√™n t·∫°i Google l√† n·ªØ
‚Ä¢ N·ªØ developer c√≥ m·ª©c l∆∞∆°ng ngang b·∫±ng nam
‚Ä¢ Nhi·ªÅu CEO c√¥ng ngh·ªá n·ªïi ti·∫øng l√† n·ªØ

üí™ **∆Øu ƒëi·ªÉm c·ªßa n·ªØ trong IT:**
‚Ä¢ T·ªâ m·ªâ v√† c·∫©n th·∫≠n trong code
‚Ä¢ Kh·∫£ nƒÉng giao ti·∫øp t·ªët
‚Ä¢ T∆∞ duy ƒëa chi·ªÅu v√† s√°ng t·∫°o
‚Ä¢ UI/UX design xu·∫•t s·∫Øc

üéØ **Lƒ©nh v·ª±c n·ªØ th∆∞·ªùng th√†nh c√¥ng:**
‚Ä¢ Frontend Development
‚Ä¢ UI/UX Design  
‚Ä¢ Product Management
‚Ä¢ Quality Assurance

üöÄ **Role models:** Susan Wojcicki (YouTube CEO), Reshma Saujani (Girls Who Code)

**You can code, you can lead, you can change the world!** üí´`;
  }

  private generateTechCareerAdvice(): string {
    return `üíª **Tech Career - T∆∞∆°ng lai r·ªông m·ªü!**

üî• **Hot trends 2024:**
‚Ä¢ AI/Machine Learning
‚Ä¢ Cloud Computing  
‚Ä¢ Cybersecurity
‚Ä¢ Mobile Development

üìà **M·ª©c l∆∞∆°ng h·∫•p d·∫´n:**
‚Ä¢ Junior: 8-15 tri·ªáu
‚Ä¢ Middle: 15-30 tri·ªáu  
‚Ä¢ Senior: 30-60 tri·ªáu
‚Ä¢ Lead: 60-100+ tri·ªáu

üéØ **Roadmap th√†nh c√¥ng:**
1. Ch·ªçn 1 ng√¥n ng·ªØ ƒë·ªÉ focus
2. Build portfolio v·ªõi 3-5 projects
3. Contribute open source
4. Network v·ªõi tech community
5. Chu·∫©n b·ªã k·ªπ skill ph·ªèng v·∫•n

üöÄ **B·∫°n mu·ªën b·∫Øt ƒë·∫ßu v·ªõi ng√¥n ng·ªØ n√†o? Python, JavaScript, hay Java?**`;
  }

  private generateDesignCareerAdvice(): string {
    return `üé® **Design Career - S√°ng t·∫°o kh√¥ng gi·ªõi h·∫°n!**

‚ú® **Lƒ©nh v·ª±c design hot:**
‚Ä¢ UI/UX Design
‚Ä¢ Graphic Design
‚Ä¢ Motion Graphics  
‚Ä¢ 3D Visualization

üí∞ **M·ª©c thu nh·∫≠p:**
‚Ä¢ Fresher: 6-12 tri·ªáu
‚Ä¢ Junior: 12-20 tri·ªáu
‚Ä¢ Senior: 20-40 tri·ªáu
‚Ä¢ Art Director: 40-80 tri·ªáu

üõ†Ô∏è **Tools c·∫ßn master:**
‚Ä¢ Figma/Adobe XD (UI/UX)
‚Ä¢ Photoshop/Illustrator (Graphic)
‚Ä¢ After Effects (Motion)
‚Ä¢ Blender (3D)

üìö **H·ªçc t·ª´ ƒë√¢u:**
‚Ä¢ Dribbble, Behance (inspiration)
‚Ä¢ YouTube tutorials
‚Ä¢ Online courses (Udemy, Coursera)
‚Ä¢ Design communities

üåü **B·∫°n th√≠ch thi·∫øt k·∫ø g√¨ nh·∫•t? Logo, website, hay app mobile?**`;
  }

  private generateBusinessCareerAdvice(): string {
    return `üíº **Business Career - D·∫´n ƒë·∫ßu xu h∆∞·ªõng!**

üìä **Ng√†nh kinh doanh hot:**
‚Ä¢ Digital Marketing
‚Ä¢ E-commerce
‚Ä¢ Business Analytics
‚Ä¢ Project Management

üíµ **Thu nh·∫≠p h·∫•p d·∫´n:**
‚Ä¢ Marketing Executive: 8-15 tri·ªáu
‚Ä¢ Digital Marketing Manager: 15-30 tri·ªáu
‚Ä¢ Business Analyst: 12-25 tri·ªáu
‚Ä¢ Product Manager: 25-50 tri·ªáu

üéØ **K·ªπ nƒÉng c·∫ßn c√≥:**
‚Ä¢ Ph√¢n t√≠ch d·ªØ li·ªáu
‚Ä¢ Social media marketing
‚Ä¢ Content creation
‚Ä¢ Leadership & communication

üìà **Trend 2024:**
‚Ä¢ TikTok Marketing
‚Ä¢ AI trong business
‚Ä¢ Sustainability business
‚Ä¢ Remote team management

üöÄ **B·∫°n mu·ªën focus v√†o marketing, sales hay management?**`;
  }

  private generateCreativeCareerAdvice(): string {
    return `üé≠ **Creative Careers - Th·∫ø gi·ªõi c·ªßa ngh·ªá thu·∫≠t!**

üåà **Lƒ©nh v·ª±c s√°ng t·∫°o:**
‚Ä¢ Content Creator/Influencer
‚Ä¢ Video Production
‚Ä¢ Photography
‚Ä¢ Animation & VFX

üí° **C∆° h·ªôi ki·∫øm ti·ªÅn:**
‚Ä¢ Freelance projects
‚Ä¢ Brand collaboration  
‚Ä¢ Online courses
‚Ä¢ Digital products

üõ†Ô∏è **Tools s√°ng t·∫°o:**
‚Ä¢ Canva, Figma (Design)
‚Ä¢ Premiere Pro (Video)
‚Ä¢ Lightroom (Photo)
‚Ä¢ Blender (3D Animation)

üì± **Platforms ƒë·ªÉ showcase:**
‚Ä¢ Instagram, TikTok
‚Ä¢ YouTube, Facebook
‚Ä¢ Behance, Dribbble
‚Ä¢ Personal website/blog

‚ú® **Creativity + Technology = Unlimited possibilities!**

B·∫°n mu·ªën s√°ng t·∫°o ·ªü lƒ©nh v·ª±c n√†o nh·∫•t?`;
  }

  private generateAnalyticalCareerAdvice(): string {
    return `üìä **Analytical Careers - S·ª©c m·∫°nh c·ªßa d·ªØ li·ªáu!**

üßÆ **Ngh·ªÅ nghi·ªáp ph√¢n t√≠ch:**
‚Ä¢ Data Analyst
‚Ä¢ Business Intelligence
‚Ä¢ Financial Analyst  
‚Ä¢ Research & Development

üí∞ **M·ª©c l∆∞∆°ng:**
‚Ä¢ Data Analyst: 12-25 tri·ªáu
‚Ä¢ BI Specialist: 15-35 tri·ªáu
‚Ä¢ Senior Analyst: 25-50 tri·ªáu
‚Ä¢ Data Scientist: 30-80 tri·ªáu

üîß **Tools c·∫ßn bi·∫øt:**
‚Ä¢ Excel/Google Sheets (c∆° b·∫£n)
‚Ä¢ SQL (database)
‚Ä¢ Python/R (advanced)
‚Ä¢ Tableau/Power BI (visualization)

üìà **Xu h∆∞·ªõng:**
‚Ä¢ Big Data Analytics
‚Ä¢ AI/Machine Learning
‚Ä¢ Predictive Analytics
‚Ä¢ Real-time Dashboard

üéØ **Perfect cho ng∆∞·ªùi:**
‚Ä¢ Th√≠ch s·ªë li·ªáu v√† logic
‚Ä¢ Ki√™n nh·∫´n v·ªõi detail
‚Ä¢ T√≤ m√≤ v·ªÅ patterns
‚Ä¢ Mu·ªën ƒë∆∞a ra quy·∫øt ƒë·ªãnh d·ª±a tr√™n data

B·∫°n mu·ªën ph√¢n t√≠ch d·ªØ li·ªáu v·ªÅ lƒ©nh v·ª±c n√†o?`;
  }

  private generateSocialCareerAdvice(): string {
    return `ü§ù **Social Careers - K·∫øt n·ªëi con ng∆∞·ªùi!**

üë• **Ngh·ªÅ nghi·ªáp x√£ h·ªôi:**
‚Ä¢ Human Resources
‚Ä¢ Customer Success
‚Ä¢ Sales & Marketing
‚Ä¢ Event Management

üí¨ **∆Øu ƒëi·ªÉm ng∆∞·ªùi gi·ªèi giao ti·∫øp:**
‚Ä¢ Build relationships d·ªÖ d√†ng
‚Ä¢ Hi·ªÉu t√¢m l√Ω kh√°ch h√†ng
‚Ä¢ Leadership potential cao
‚Ä¢ Networking skills t·ª± nhi√™n

üíº **C∆° h·ªôi ngh·ªÅ nghi·ªáp:**
‚Ä¢ HR Business Partner: 15-30 tri·ªáu
‚Ä¢ Sales Manager: 20-50 tri·ªáu  
‚Ä¢ Marketing Manager: 18-40 tri·ªáu
‚Ä¢ Event Director: 25-60 tri·ªáu

üåü **K·ªπ nƒÉng ph√°t tri·ªÉn:**
‚Ä¢ Public speaking
‚Ä¢ Negotiation
‚Ä¢ Team management
‚Ä¢ Digital communication

üì± **Platforms ƒë·ªÉ ph√°t tri·ªÉn:**
‚Ä¢ LinkedIn networking
‚Ä¢ Facebook groups
‚Ä¢ Professional events
‚Ä¢ Online communities

üöÄ **People person = Unlimited career potential!**

B·∫°n th√≠ch l√†m vi·ªác v·ªõi team nh·ªè hay qu·∫£n l√Ω nh√≥m l·ªõn?`;
  }

  private generateGeneralEncouragement(): string {
    const encouragements = [
      `üåü **M·ªói ng∆∞·ªùi ƒë·ªÅu c√≥ t√†i nƒÉng ri√™ng!**

H√£y chia s·∫ª v·ªõi t√¥i:
‚Ä¢ B·∫°n th√≠ch l√†m g√¨ trong th·ªùi gian r·∫£nh?
‚Ä¢ M√¥n h·ªçc n√†o b·∫°n c·∫£m th·∫•y d·ªÖ nh·∫•t?
‚Ä¢ B·∫°n l√† ng∆∞·ªùi th√≠ch l√†m vi·ªác m·ªôt m√¨nh hay nh√≥m?

T·ª´ ƒë√≥ t√¥i s·∫Ω t∆∞ v·∫•n ng√†nh h·ªçc ph√π h·ª£p nh·∫•t! üéØ`,

      `üí° **Th√†nh c√¥ng kh√¥ng c√≥ c√¥ng th·ª©c c·ªë ƒë·ªãnh!**

M·ªôt s·ªë c√¢u h·ªèi ƒë·ªÉ t√¥i hi·ªÉu b·∫°n h∆°n:
‚Ä¢ B·∫°n th√≠ch s√°ng t·∫°o hay ph√¢n t√≠ch?
‚Ä¢ L√†m vi·ªác v·ªõi m√°y t√≠nh hay giao ti·∫øp v·ªõi ng∆∞·ªùi?
‚Ä¢ ·ªîn ƒë·ªãnh hay th√≠ch th·ª≠ th√°ch m·ªõi?

M·ªói t√≠nh c√°ch s·∫Ω ph√π h·ª£p v·ªõi nh·ªØng ng√†nh kh√°c nhau! üöÄ`,

      `üéØ **ƒê·ªãnh h∆∞·ªõng ngh·ªÅ nghi·ªáp c·∫ßn th·ªùi gian!**

ƒê·ª´ng v·ªôi, h√£y kh√°m ph√°:
‚Ä¢ Th·ª≠ l√†m c√°c b√†i test t√≠nh c√°ch online
‚Ä¢ Tham gia c√°c ho·∫°t ƒë·ªông extracurricular  
‚Ä¢ N√≥i chuy·ªán v·ªõi ng∆∞·ªùi l√†m trong ng√†nh
‚Ä¢ Th·ª±c t·∫≠p ng·∫Øn h·∫°n ƒë·ªÉ tr·∫£i nghi·ªám

**Journey of thousand miles begins with a single step!** ‚ú®`
    ];

    return encouragements[Math.floor(Math.random() * encouragements.length)];
  }

  // Comprehensive contextual pattern analysis with confidence scoring
  private analyzeContextualPatterns(message: string): Array<{response: string, confidence: number, category: string}> {
    const responses: Array<{response: string, confidence: number, category: string}> = [];
    
    // Define comprehensive pattern categories with scoring
    const patterns = this.getComprehensivePatterns();
    
    for (const category in patterns) {
      const categoryPatterns = patterns[category];
      let maxConfidence = 0;
      let bestResponse = '';
      
      for (const pattern of categoryPatterns.patterns) {
        const confidence = this.calculatePatternConfidence(message, pattern.keywords, pattern.weights || {});
        
        if (confidence > maxConfidence) {
          maxConfidence = confidence;
          bestResponse = this.selectRandomResponse(pattern.responses);
        }
      }
      
      if (maxConfidence > 0.3) { // Minimum threshold
        responses.push({
          response: bestResponse,
          confidence: maxConfidence,
          category: category
        });
      }
    }
    
    return responses;
  }

  // Select the best response based on confidence and context relevance
  private selectBestResponse(responses: Array<{response: string, confidence: number, category: string}>): {response: string, confidence: number} | null {
    if (responses.length === 0) return null;
    
    // Sort by confidence score
    responses.sort((a, b) => b.confidence - a.confidence);
    
    // Apply category priority weights
    const categoryWeights: {[key: string]: number} = {
      'specific_concerns': 1.2,    // Highest priority for specific problems
      'academic_support': 1.15,
      'career_guidance': 1.1,
      'major_information': 1.05,
      'general_questions': 1.0,
      'greetings': 0.9,
      'encouragement': 0.8
    };
    
    // Adjust confidence with category weights
    for (const response of responses) {
      const weight = categoryWeights[response.category] || 1.0;
      response.confidence *= weight;
    }
    
    // Re-sort after applying weights
    responses.sort((a, b) => b.confidence - a.confidence);
    
    return {
      response: responses[0].response,
      confidence: responses[0].confidence
    };
  }

  // Calculate pattern matching confidence score
  private calculatePatternConfidence(message: string, keywords: string[], weights: {[key: string]: number} = {}): number {
    let score = 0;
    let totalKeywords = keywords.length;
    let matchedKeywords = 0;
    
    for (const keyword of keywords) {
      if (message.includes(keyword)) {
        matchedKeywords++;
        const weight = weights[keyword] || 1.0;
        score += weight;
      }
    }
    
    // Base score from keyword matching
    let confidence = matchedKeywords / totalKeywords;
    
    // Boost confidence for exact phrase matches
    const exactPhrases = keywords.filter(k => k.includes(' '));
    for (const phrase of exactPhrases) {
      if (message.includes(phrase)) {
        confidence += 0.2;
      }
    }
    
    // Boost confidence for multiple keyword matches
    if (matchedKeywords >= 2) {
      confidence += 0.1 * (matchedKeywords - 1);
    }
    
    // Context relevance boost
    if (this.hasContextualRelevance(message, keywords)) {
      confidence += 0.15;
    }
    
    return Math.min(confidence, 1.0);
  }

  // Check for contextual relevance
  private hasContextualRelevance(message: string, keywords: string[]): boolean {
    const contextWords = ['h·ªçc', 'ng√†nh', 'ngh·ªÅ', 't∆∞∆°ng lai', 'ƒë·ªãnh h∆∞·ªõng', 't∆∞ v·∫•n', 'c√≥ th·ªÉ', 'ƒë∆∞·ª£c kh√¥ng', 'l√†m sao'];
    return contextWords.some(word => message.includes(word)) && keywords.some(keyword => message.includes(keyword));
  }

  // Select random response from array
  private selectRandomResponse(responses: string[]): string {
    return responses[Math.floor(Math.random() * responses.length)];
  }

  // Comprehensive pattern definitions
  private getComprehensivePatterns(): {[key: string]: any} {
    return {
      // Specific academic concerns with high priority
      'specific_concerns': {
        patterns: [
          {
            keywords: ['d·ªët to√°n', 'h·ªçc d·ªët to√°n', 'k√©m to√°n', 'y·∫øu to√°n', 'kh√¥ng gi·ªèi to√°n', 'to√°n d·ªü', 'c√¥ng ngh·ªá th√¥ng tin', 'it', 'l·∫≠p tr√¨nh'],
            weights: { 'd·ªët to√°n': 1.5, 'c√¥ng ngh·ªá th√¥ng tin': 1.3, 'it': 1.3, 'l·∫≠p tr√¨nh': 1.3 },
            responses: [
              `ü§î **H·ªçc d·ªët to√°n c√≥ th·ªÉ h·ªçc IT kh√¥ng?**

‚úÖ **Tin t·ªët:** HO√ÄN TO√ÄN ƒê∆Ø·ª¢C! Nhi·ªÅu l·∫≠p tr√¨nh vi√™n gi·ªèi kh√¥ng xu·∫•t th√¢n t·ª´ to√°n h·ªçc.

üìä **Th·ª±c t·∫ø v·ªÅ to√°n trong IT:**
‚Ä¢ 70% c√¥ng vi·ªác IT ch·ªâ c·∫ßn to√°n c∆° b·∫£n (c·ªông, tr·ª´, nh√¢n, chia)
‚Ä¢ Logic t∆∞ duy quan tr·ªçng h∆°n t√≠nh to√°n ph·ª©c t·∫°p
‚Ä¢ C√≥ c√¥ng c·ª• v√† th∆∞ vi·ªán h·ªó tr·ª£ m·ªçi ph√©p t√≠nh

üéØ **C√°c lƒ©nh v·ª±c IT √≠t c·∫ßn to√°n:**
‚Ä¢ Frontend Development (HTML, CSS, JavaScript)
‚Ä¢ Mobile App Development  
‚Ä¢ UI/UX Design
‚Ä¢ Software Testing

üí° **L·ªùi khuy√™n:**
‚Ä¢ T·∫≠p trung v√†o logic v√† t∆∞ duy thu·∫≠t to√°n
‚Ä¢ H·ªçc t·ª´ c∆° b·∫£n, t·ª´ t·ª´ x√¢y d·ª±ng n·ªÅn t·∫£ng
‚Ä¢ Th·ª±c h√†nh nhi·ªÅu h∆°n l√Ω thuy·∫øt

üöÄ B·∫°n c√≥ mu·ªën t√¥i t∆∞ v·∫•n l·ªô tr√¨nh h·ªçc IT ph√π h·ª£p v·ªõi ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu kh√¥ng?`,

              `üíª **To√°n k√©m v·∫´n c√≥ th·ªÉ th√†nh c√¥ng trong IT!**

üåü **C√¢u chuy·ªán th·ª±c t·∫ø:**
Nhi·ªÅu CEO c√¥ng ngh·ªá n·ªïi ti·∫øng nh∆∞ Jack Dorsey (Twitter) kh√¥ng gi·ªèi to√°n nh∆∞ng v·∫´n th√†nh c√¥ng!

üß† **K·ªπ nƒÉng quan tr·ªçng h∆°n to√°n:**
‚Ä¢ T∆∞ duy logic v√† gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ
‚Ä¢ Kh·∫£ nƒÉng h·ªçc h·ªèi v√† th√≠ch nghi
‚Ä¢ Ki√™n nh·∫´n v√† t·ªâ m·ªâ trong code
‚Ä¢ Giao ti·∫øp v√† l√†m vi·ªác nh√≥m

üé® **Lƒ©nh v·ª±c IT th√¢n thi·ªán v·ªõi ng∆∞·ªùi k√©m to√°n:**
‚Ä¢ Web Design & Frontend
‚Ä¢ Mobile App UI/UX  
‚Ä¢ Game Development (ph·∫ßn thi·∫øt k·∫ø)
‚Ä¢ Digital Marketing & SEO

üí™ **B√≠ quy·∫øt th√†nh c√¥ng:**
‚Ä¢ B·∫Øt ƒë·∫ßu v·ªõi HTML/CSS ƒë∆°n gi·∫£n
‚Ä¢ H·ªçc JavaScript t·ª´ t·ª´, step by step
‚Ä¢ Tham gia c·ªông ƒë·ªìng l·∫≠p tr√¨nh vi√™n
‚Ä¢ L√†m project th·ª±c t·∫ø thay v√¨ h·ªçc thu·∫ßn l√Ω thuy·∫øt

B·∫°n mu·ªën b·∫Øt ƒë·∫ßu t·ª´ ƒë√¢u? T√¥i c√≥ th·ªÉ g·ª£i √Ω roadmap chi ti·∫øt! üó∫Ô∏è`
            ]
          },
          {
            keywords: ['kh√¥ng bi·∫øt v·∫Ω', 'kh√¥ng gi·ªèi v·∫Ω', 'v·∫Ω d·ªü', 'ch∆∞a bi·∫øt v·∫Ω', 'thi·∫øt k·∫ø', 'ƒë·ªì h·ªça', 'design'],
            weights: { 'kh√¥ng bi·∫øt v·∫Ω': 1.5, 'thi·∫øt k·∫ø': 1.3, 'ƒë·ªì h·ªça': 1.3 },
            responses: [
              `üé® **Kh√¥ng bi·∫øt v·∫Ω c√≥ h·ªçc ƒë∆∞·ª£c Thi·∫øt k·∫ø kh√¥ng?**

‚úÖ **Tin t·ªët:** C√ì TH·ªÇ H·ªåC ƒê∆Ø·ª¢C! Thi·∫øt k·∫ø hi·ªán ƒë·∫°i kh√°c xa v·ªõi v·∫Ω tay truy·ªÅn th·ªëng.

üñ•Ô∏è **Thi·∫øt k·∫ø s·ªë hi·ªán t·∫°i:**
‚Ä¢ 90% l√†m vi·ªác tr√™n m√°y t√≠nh (Photoshop, Illustrator)
‚Ä¢ C√≥ template v√† asset c√≥ s·∫µn
‚Ä¢ AI h·ªó tr·ª£ t·∫°o √Ω t∆∞·ªüng v√† n·ªôi dung
‚Ä¢ T·∫≠p trung v√†o √Ω t∆∞·ªüng h∆°n k·ªπ thu·∫≠t v·∫Ω

üéØ **K·ªπ nƒÉng quan tr·ªçng h∆°n v·∫Ω tay:**
‚Ä¢ T∆∞ duy s√°ng t·∫°o v√† th·∫©m m·ªπ
‚Ä¢ Hi·ªÉu t√¢m l√Ω kh√°ch h√†ng
‚Ä¢ Xu h∆∞·ªõng m√†u s·∫Øc, font ch·ªØ
‚Ä¢ K·ªπ nƒÉng s·ª≠ d·ª•ng ph·∫ßn m·ªÅm

üí° **L·ªùi khuy√™n:**
‚Ä¢ B·∫Øt ƒë·∫ßu h·ªçc Photoshop c∆° b·∫£n
‚Ä¢ Tham kh·∫£o thi·∫øt k·∫ø tr√™n Pinterest, Behance
‚Ä¢ Th·ª±c h√†nh l√†m poster, banner ƒë∆°n gi·∫£n

üöÄ Quan tr·ªçng l√† C·∫¢M TH·∫®M M·ª∏, kh√¥ng ph·∫£i tay ngh·ªÅ v·∫Ω! B·∫°n c√≥ th√≠ch m√†u s·∫Øc v√† b·ªë c·ª•c ƒë·∫πp kh√¥ng?`
            ]
          },
          {
            keywords: ['gia ƒë√¨nh ngh√®o', 'kh√¥ng c√≥ ti·ªÅn', 'kinh t·∫ø kh√≥ khƒÉn', 'h·ªçc ph√≠ cao', 'kh√¥ng ƒë·ªß ti·ªÅn', 'ngh√®o'],
            weights: { 'gia ƒë√¨nh ngh√®o': 1.5, 'kh√¥ng c√≥ ti·ªÅn': 1.4, 'kinh t·∫ø kh√≥ khƒÉn': 1.4 },
            responses: [
              `üí∞ **Kh√≥ khƒÉn kinh t·∫ø c√≥ th·ªÉ h·ªçc ƒë∆∞·ª£c kh√¥ng?**

‚úÖ **ƒê·ª´ng lo l·∫Øng!** FPT Polytechnic c√≥ nhi·ªÅu ch√≠nh s√°ch h·ªó tr·ª£:

üéì **H·ªçc b·ªïng:**
‚Ä¢ H·ªçc b·ªïng 100% cho h·ªçc sinh gi·ªèi
‚Ä¢ H·ªçc b·ªïng 50% cho ho√†n c·∫£nh kh√≥ khƒÉn
‚Ä¢ H·ªçc b·ªïng t√†i nƒÉng ƒë·∫∑c bi·ªát

üí≥ **H·ªó tr·ª£ t√†i ch√≠nh:**
‚Ä¢ Tr·∫£ g√≥p h·ªçc ph√≠ 0% l√£i su·∫•t
‚Ä¢ Vay v·ªën ∆∞u ƒë√£i t·ª´ ng√¢n h√†ng
‚Ä¢ L√†m part-time t·∫°i tr∆∞·ªùng

üè¢ **C∆° h·ªôi vi·ªác l√†m:**
‚Ä¢ Th·ª±c t·∫≠p c√≥ l∆∞∆°ng t·ª´ nƒÉm 2
‚Ä¢ Job fair v·ªõi m·ª©c l∆∞∆°ng h·∫•p d·∫´n
‚Ä¢ Cam k·∫øt vi·ªác l√†m sau t·ªët nghi·ªáp

üí° **L·ªùi khuy√™n:** H√£y ƒëƒÉng k√Ω t∆∞ v·∫•n ƒë·ªÉ bi·∫øt c√°c ch∆∞∆°ng tr√¨nh h·ªó tr·ª£ c·ª• th·ªÉ!

B·∫°n mu·ªën bi·∫øt th√™m v·ªÅ h·ªçc b·ªïng n√†o?`
            ]
          }
        ]
      },

      // Major-specific information
      'major_information': {
        patterns: [
          {
            keywords: ['c√¥ng ngh·ªá th√¥ng tin', 'it', 'l·∫≠p tr√¨nh', 'ph·∫ßn m·ªÅm', 'developer', 'coder'],
            weights: { 'c√¥ng ngh·ªá th√¥ng tin': 1.3, 'it': 1.3, 'l·∫≠p tr√¨nh': 1.2 },
            responses: [
              `üñ•Ô∏è **Ng√†nh C√¥ng ngh·ªá th√¥ng tin - L·ª±a ch·ªçn hot nh·∫•t hi·ªán nay!**

üìö **Ch∆∞∆°ng tr√¨nh h·ªçc:**
‚Ä¢ L·∫≠p tr√¨nh Java, Python, C#, JavaScript
‚Ä¢ Ph√°t tri·ªÉn Web & Mobile App  
‚Ä¢ Database & Cloud Computing
‚Ä¢ AI & Machine Learning c∆° b·∫£n
‚Ä¢ DevOps v√† System Administration

üíº **C∆° h·ªôi ngh·ªÅ nghi·ªáp:**
‚Ä¢ Fullstack Developer (15-30 tri·ªáu)
‚Ä¢ Mobile App Developer (12-25 tri·ªáu)
‚Ä¢ DevOps Engineer (20-40 tri·ªáu)
‚Ä¢ Data Analyst (15-35 tri·ªáu)
‚Ä¢ AI Engineer (25-50 tri·ªáu)

üî• **T·∫°i sao ch·ªçn IT t·∫°i FPT:**
‚Ä¢ ƒê·ªëi t√°c v·ªõi Google, Microsoft, Amazon
‚Ä¢ Th·ª±c t·∫≠p t·∫°i c√°c c√¥ng ty Top
‚Ä¢ T·ª∑ l·ªá c√≥ vi·ªác l√†m 98%
‚Ä¢ M·ª©c l∆∞∆°ng kh·ªüi ƒëi·ªÉm cao nh·∫•t

üéØ B·∫°n c√≥ mu·ªën bi·∫øt th√™m v·ªÅ l·ªô tr√¨nh h·ªçc c·ª• th·ªÉ kh√¥ng?`,

              `üíª **IT t·∫°i FPT Polytechnic - N∆°i ∆∞∆°m m·∫ßm l·∫≠p tr√¨nh vi√™n!**

üåü **ƒêi·ªÉm m·∫°nh ch∆∞∆°ng tr√¨nh:**
‚Ä¢ 70% th·ª±c h√†nh, 30% l√Ω thuy·∫øt
‚Ä¢ Gi·∫£ng vi√™n t·ª´ c√°c c√¥ng ty l·ªõn
‚Ä¢ Lab hi·ªán ƒë·∫°i v·ªõi c√¥ng ngh·ªá m·ªõi nh·∫•t
‚Ä¢ Project th·ª±c t·∫ø v·ªõi doanh nghi·ªáp

üõ†Ô∏è **C√¥ng ngh·ªá ƒë∆∞·ª£c h·ªçc:**
‚Ä¢ Frontend: ReactJS, VueJS, Angular
‚Ä¢ Backend: NodeJS, .NET, Java Spring
‚Ä¢ Mobile: Flutter, React Native
‚Ä¢ Cloud: AWS, Azure, Google Cloud

üìà **Xu h∆∞·ªõng ngh·ªÅ nghi·ªáp:**
‚Ä¢ Remote work ph·ªï bi·∫øn (80% c√¥ng ty)
‚Ä¢ Freelance thu nh·∫≠p cao
‚Ä¢ Startup opportunities
‚Ä¢ C∆° h·ªôi l√†m vi·ªác qu·ªëc t·∫ø

B·∫°n ƒë√£ c√≥ ki·∫øn th·ª©c l·∫≠p tr√¨nh n√†o ch∆∞a? T√¥i c√≥ th·ªÉ t∆∞ v·∫•n l·ªô tr√¨nh ph√π h·ª£p!`
            ]
          },
          {
            keywords: ['thi·∫øt k·∫ø ƒë·ªì h·ªça', 'thi·∫øt k·∫ø', 'ƒë·ªì h·ªça', 'design', 'graphic', 'ui/ux', 'designer'],
            weights: { 'thi·∫øt k·∫ø ƒë·ªì h·ªça': 1.4, 'thi·∫øt k·∫ø': 1.2, 'design': 1.2 },
            responses: [
              `üé® **Ng√†nh Thi·∫øt k·∫ø ƒë·ªì h·ªça - S√°ng t·∫°o kh√¥ng gi·ªõi h·∫°n!**

‚ú® **Ch∆∞∆°ng tr√¨nh h·ªçc:**
‚Ä¢ Graphic Design & Branding
‚Ä¢ UI/UX Design cho Web & Mobile
‚Ä¢ Motion Graphics & Video
‚Ä¢ 3D Modeling & Visualization
‚Ä¢ Photography & Digital Art

üí∞ **C∆° h·ªôi ngh·ªÅ nghi·ªáp:**
‚Ä¢ Graphic Designer (8-18 tri·ªáu)
‚Ä¢ UI/UX Designer (12-30 tri·ªáu)
‚Ä¢ Motion Designer (15-35 tri·ªáu)
‚Ä¢ Art Director (20-50 tri·ªáu)
‚Ä¢ Creative Director (30-80 tri·ªáu)

üõ†Ô∏è **Ph·∫ßn m·ªÅm ƒë∆∞·ª£c h·ªçc:**
‚Ä¢ Adobe Creative Suite (Photoshop, Illustrator, After Effects)
‚Ä¢ Figma, Adobe XD (UI/UX)
‚Ä¢ Cinema 4D, Blender (3D)
‚Ä¢ Sketch, Principle (Prototyping)

üåü **ƒê·∫∑c bi·ªát t·∫°i FPT:**
‚Ä¢ Studio thi·∫øt k·∫ø chuy√™n nghi·ªáp
‚Ä¢ Collaboration v·ªõi c√°c brand l·ªõn
‚Ä¢ Competition v√† awards qu·ªëc t·∫ø
‚Ä¢ Internship t·∫°i agency h√†ng ƒë·∫ßu

B·∫°n th√≠ch thi·∫øt k·∫ø lƒ©nh v·ª±c n√†o nh·∫•t? Logo, website, hay app mobile?`,

              `üé≠ **Thi·∫øt k·∫ø ƒë·ªì h·ªça - Ngh·ªá thu·∫≠t meets Technology!**

üéØ **Lƒ©nh v·ª±c hot hi·ªán nay:**
‚Ä¢ UI/UX Design (nhu c·∫ßu cao nh·∫•t)
‚Ä¢ Social Media Design
‚Ä¢ E-commerce Visual
‚Ä¢ Game Art & Animation
‚Ä¢ AR/VR Design

üì± **Trend 2024:**
‚Ä¢ Minimalism & Clean Design
‚Ä¢ Dark Mode Interfaces
‚Ä¢ 3D Elements in UI
‚Ä¢ Micro-interactions
‚Ä¢ AI-assisted Design

üí° **K·ªπ nƒÉng c·∫ßn c√≥:**
‚Ä¢ C·∫£m th·∫©m m·ªπ v√† color theory
‚Ä¢ Typography v√† layout
‚Ä¢ User psychology
‚Ä¢ Brand thinking
‚Ä¢ Technical skills v·ªõi design tools

üöÄ **Career path:**
Junior Designer ‚Üí Senior Designer ‚Üí Art Director ‚Üí Creative Director

B·∫°n mu·ªën focus v√†o design cho web, mobile, hay print media?`
            ]
          },
          {
            keywords: ['marketing', 'qu·∫£n tr·ªã kinh doanh', 'kinh doanh', 'business', 'b√°n h√†ng', 'sales'],
            weights: { 'marketing': 1.3, 'qu·∫£n tr·ªã kinh doanh': 1.4, 'kinh doanh': 1.2 },
            responses: [
              `üìà **Marketing & Qu·∫£n tr·ªã kinh doanh - D·∫´n ƒë·∫ßu th·ªã tr∆∞·ªùng!**

üéØ **Ch∆∞∆°ng tr√¨nh Marketing:**
‚Ä¢ Digital Marketing & Social Media
‚Ä¢ Content Marketing & SEO
‚Ä¢ E-commerce & Online Business
‚Ä¢ Brand Management
‚Ä¢ Marketing Analytics

üíº **Ch∆∞∆°ng tr√¨nh Qu·∫£n tr·ªã kinh doanh:**
‚Ä¢ Business Strategy & Planning
‚Ä¢ Project Management
‚Ä¢ Human Resource Management
‚Ä¢ Financial Management
‚Ä¢ International Business

üí∞ **C∆° h·ªôi ngh·ªÅ nghi·ªáp:**
‚Ä¢ Digital Marketer (8-20 tri·ªáu)
‚Ä¢ Business Analyst (12-25 tri·ªáu)
‚Ä¢ Project Manager (15-35 tri·ªáu)
‚Ä¢ Marketing Manager (18-40 tri·ªáu)
‚Ä¢ Business Development (20-50 tri·ªáu)

üî• **Xu h∆∞·ªõng hot:**
‚Ä¢ Influencer Marketing
‚Ä¢ TikTok & Social Commerce
‚Ä¢ AI in Marketing
‚Ä¢ Sustainable Business
‚Ä¢ Remote Team Management

B·∫°n mu·ªën focus v√†o marketing s√°ng t·∫°o hay qu·∫£n l√Ω chi·∫øn l∆∞·ª£c?`
            ]
          }
        ]
      },

      // Career guidance and comparison
      'career_guidance': {
        patterns: [
          {
            keywords: ['so s√°nh', 'kh√°c nhau', 'gi·ªëng nhau', 'l·ª±a ch·ªçn', 'n√™n ch·ªçn', 'ng√†nh n√†o'],
            responses: [
              `ü§î **So s√°nh c√°c ng√†nh h·ªçc t·∫°i FPT Polytechnic:**

**üíª C√¥ng ngh·ªá th√¥ng tin:**
‚Ä¢ ∆Øu ƒëi·ªÉm: L∆∞∆°ng cao, remote work, c∆° h·ªôi qu·ªëc t·∫ø
‚Ä¢ Ph√π h·ª£p: Ng∆∞·ªùi th√≠ch logic, gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ
‚Ä¢ Thu nh·∫≠p: 12-50+ tri·ªáu

**üé® Thi·∫øt k·∫ø ƒë·ªì h·ªça:**
‚Ä¢ ∆Øu ƒëi·ªÉm: S√°ng t·∫°o, flexible, freelance d·ªÖ
‚Ä¢ Ph√π h·ª£p: Ng∆∞·ªùi c√≥ th·∫©m m·ªπ, y√™u ngh·ªá thu·∫≠t  
‚Ä¢ Thu nh·∫≠p: 8-40+ tri·ªáu

**üìà Marketing/Kinh doanh:**
‚Ä¢ ∆Øu ƒëi·ªÉm: Networking, leadership, ƒëa d·∫°ng c∆° h·ªôi
‚Ä¢ Ph√π h·ª£p: Ng∆∞·ªùi gi·ªèi giao ti·∫øp, nƒÉng ƒë·ªông
‚Ä¢ Thu nh·∫≠p: 8-50+ tri·ªáu

**üîß K·ªπ thu·∫≠t (ƒêi·ªán t·ª≠, C∆° kh√≠):**
‚Ä¢ ∆Øu ƒëi·ªÉm: ·ªîn ƒë·ªãnh, th·ª±c t·∫ø, c·∫ßn thi·∫øt
‚Ä¢ Ph√π h·ª£p: Ng∆∞·ªùi th√≠ch l√†m vi·ªác v·ªõi tay
‚Ä¢ Thu nh·∫≠p: 8-30+ tri·ªáu

B·∫°n mu·ªën bi·∫øt chi ti·∫øt v·ªÅ ng√†nh n√†o?`
            ]
          },
          {
            keywords: ['l∆∞∆°ng', 'thu nh·∫≠p', 'm·ª©c l∆∞∆°ng', 'ki·∫øm ƒë∆∞·ª£c bao nhi·ªÅu', 'ti·ªÅn'],
            responses: [
              `üí∞ **M·ª©c l∆∞∆°ng c√°c ng√†nh t·∫°i FPT Polytechnic (2024):**

**ü•á Top l∆∞∆°ng cao:**
‚Ä¢ AI/Machine Learning: 25-80 tri·ªáu
‚Ä¢ DevOps Engineer: 20-60 tri·ªáu
‚Ä¢ Senior Developer: 25-50 tri·ªáu
‚Ä¢ Creative Director: 30-80 tri·ªáu

**üíº M·ª©c l∆∞∆°ng trung b√¨nh:**
‚Ä¢ IT Freshers: 8-15 tri·ªáu
‚Ä¢ Designer: 8-25 tri·ªáu
‚Ä¢ Marketing: 8-20 tri·ªáu
‚Ä¢ Business Analyst: 12-30 tri·ªáu

**üìà Y·∫øu t·ªë ·∫£nh h∆∞·ªüng l∆∞∆°ng:**
‚Ä¢ K·ªπ nƒÉng chuy√™n m√¥n (quan tr·ªçng nh·∫•t)
‚Ä¢ Kinh nghi·ªám th·ª±c t·∫ø
‚Ä¢ C√¥ng ty (startup vs corporate)
‚Ä¢ V·ªã tr√≠ ƒë·ªãa l√Ω (HCM > HN > t·ªânh)
‚Ä¢ Ngo·∫°i ng·ªØ v√† soft skills

**üí° Tips tƒÉng l∆∞∆°ng:**
‚Ä¢ Build portfolio m·∫°nh
‚Ä¢ H·ªçc c√¥ng ngh·ªá m·ªõi
‚Ä¢ Networking v√† personal branding
‚Ä¢ Tham gia open source projects

B·∫°n quan t√¢m m·ª©c l∆∞∆°ng ng√†nh n√†o c·ª• th·ªÉ?`
            ]
          }
        ]
      },

      // Academic and admission questions
      'academic_support': {
        patterns: [
          {
            keywords: ['ƒëi·ªÅu ki·ªán tuy·ªÉn sinh', 'tuy·ªÉn sinh', 'ƒëƒÉng k√Ω', 'x√©t tuy·ªÉn', 'h·ªì s∆°'],
            responses: [
              `üìã **ƒêi·ªÅu ki·ªán tuy·ªÉn sinh FPT Polytechnic 2024:**

**üìö Y√™u c·∫ßu c∆° b·∫£n:**
‚Ä¢ T·ªët nghi·ªáp THPT ho·∫∑c t∆∞∆°ng ƒë∆∞∆°ng
‚Ä¢ Kh√¥ng y√™u c·∫ßu ƒëi·ªÉm chu·∫©n
‚Ä¢ X√©t tuy·ªÉn theo h·ªì s∆° + ph·ªèng v·∫•n

**üìù H·ªì s∆° c·∫ßn c√≥:**
‚Ä¢ B·∫±ng t·ªët nghi·ªáp THPT (b·∫£n ch√≠nh)
‚Ä¢ H·ªçc b·∫° THPT (b·∫£n ch√≠nh)
‚Ä¢ CMND/CCCD (photo)
‚Ä¢ 4 ·∫£nh 3x4
‚Ä¢ Gi·∫•y kh√°m s·ª©c kh·ªèe

**üéØ Ph∆∞∆°ng th·ª©c x√©t tuy·ªÉn:**
‚Ä¢ X√©t h·ªçc b·∫° THPT (70%)
‚Ä¢ Ph·ªèng v·∫•n ƒë·ªãnh h∆∞·ªõng (30%)
‚Ä¢ ∆Øu ti√™n th√≠ sinh c√≥ ch·ª©ng ch·ªâ IT, Design

**üìÖ L·ªãch tuy·ªÉn sinh:**
‚Ä¢ ƒê·ª£t 1: Th√°ng 3-5
‚Ä¢ ƒê·ª£t 2: Th√°ng 6-8  
‚Ä¢ ƒê·ª£t 3: Th√°ng 8-9

**üí∞ H·ªçc ph√≠ 2024:**
‚Ä¢ 25-30 tri·ªáu/nƒÉm (t√πy ng√†nh)
‚Ä¢ C√≥ th·ªÉ tr·∫£ g√≥p 0% l√£i su·∫•t

B·∫°n mu·ªën ƒëƒÉng k√Ω ng√†nh n√†o? T√¥i c√≥ th·ªÉ h∆∞·ªõng d·∫´n chi ti·∫øt!`
            ]
          },
          {
            keywords: ['h·ªçc b·ªïng', 'h·ªó tr·ª£ t√†i ch√≠nh', 'mi·ªÖn gi·∫£m', 'h·ªçc ph√≠'],
            responses: [
              `üéì **Ch∆∞∆°ng tr√¨nh h·ªçc b·ªïng FPT Polytechnic:**

**üèÜ H·ªçc b·ªïng xu·∫•t s·∫Øc:**
‚Ä¢ 100% h·ªçc ph√≠: GPA ‚â• 3.6 + ho·∫°t ƒë·ªông xu·∫•t s·∫Øc
‚Ä¢ 50% h·ªçc ph√≠: GPA ‚â• 3.2 + t√≠ch c·ª±c tham gia
‚Ä¢ 25% h·ªçc ph√≠: GPA ‚â• 2.8 + c√≥ th√†nh t√≠ch

**üí™ H·ªçc b·ªïng ho√†n c·∫£nh:**
‚Ä¢ 50-100% h·ªçc ph√≠ cho gia ƒë√¨nh kh√≥ khƒÉn
‚Ä¢ C·∫ßn gi·∫•y x√°c nh·∫≠n ho√†n c·∫£nh t·ª´ ƒë·ªãa ph∆∞∆°ng
‚Ä¢ K·∫øt h·ª£p v·ªõi h·ªçc b·ªïng h·ªçc t·∫≠p

**üåü H·ªçc b·ªïng t√†i nƒÉng:**
‚Ä¢ C√≥ ch·ª©ng ch·ªâ IT qu·ªëc t·∫ø: 30% h·ªçc ph√≠
‚Ä¢ Gi·∫£i th∆∞·ªüng thi·∫øt k·∫ø: 25% h·ªçc ph√≠
‚Ä¢ Olympic tin h·ªçc: 50% h·ªçc ph√≠

**üí≥ H·ªó tr·ª£ kh√°c:**
‚Ä¢ Vay v·ªën sinh vi√™n 0% l√£i su·∫•t
‚Ä¢ Part-time job t·∫°i tr∆∞·ªùng
‚Ä¢ Th·ª±c t·∫≠p c√≥ l∆∞∆°ng t·ª´ nƒÉm 2

**üìû Li√™n h·ªá t∆∞ v·∫•n:**
‚Ä¢ Hotline: 1900-6969
‚Ä¢ Website: fpt.edu.vn
‚Ä¢ Fanpage: FPT Polytechnic

B·∫°n thu·ªôc tr∆∞·ªùng h·ª£p n√†o? T√¥i c√≥ th·ªÉ t∆∞ v·∫•n c·ª• th·ªÉ!`
            ]
          }
        ]
      },

      // General questions and encouragement
      'general_questions': {
        patterns: [
          {
            keywords: ['c√≥ n√™n', 'c√≥ n√™n h·ªçc', 'c√≥ t·ªët kh√¥ng', 'c√≥ ƒë∆∞·ª£c kh√¥ng', 'c√≥ kh√≥ kh√¥ng'],
            responses: [
              `ü§î **ƒê√°nh gi√° v√† l·ªùi khuy√™n:**

**‚úÖ N√™n h·ªçc t·∫°i FPT Polytechnic n·∫øu b·∫°n:**
‚Ä¢ Th√≠ch h·ªçc th·ª±c h√†nh h∆°n l√Ω thuy·∫øt
‚Ä¢ Mu·ªën c√≥ vi·ªác l√†m ngay sau t·ªët nghi·ªáp
‚Ä¢ Quan t√¢m ƒë·∫øn c√¥ng ngh·ªá v√† xu h∆∞·ªõng m·ªõi
‚Ä¢ Th√≠ch m√¥i tr∆∞·ªùng nƒÉng ƒë·ªông, s√°ng t·∫°o

**‚ö†Ô∏è C·∫ßn c√¢n nh·∫Øc n·∫øu b·∫°n:**
‚Ä¢ Th√≠ch h·ªçc thu·∫ßn l√Ω thuy·∫øt
‚Ä¢ Mu·ªën l√†m nghi√™n c·ª©u khoa h·ªçc
‚Ä¢ Kh√¥ng th√≠ch l√†m vi·ªác nh√≥m
‚Ä¢ Kh√¥ng theo k·ªãp c√¥ng ngh·ªá m·ªõi

**üí° L·ªùi khuy√™n:**
‚Ä¢ Tham quan tr∆∞·ªùng ƒë·ªÉ c·∫£m nh·∫≠n m√¥i tr∆∞·ªùng
‚Ä¢ N√≥i chuy·ªán v·ªõi sinh vi√™n ƒëang h·ªçc
‚Ä¢ Tham gia c√°c workshop/event c·ªßa tr∆∞·ªùng
‚Ä¢ Xem portfolio sinh vi√™n t·ªët nghi·ªáp

**üéØ ƒêi·ªÅu quan tr·ªçng nh·∫•t:**
Passion v√† determination quan tr·ªçng h∆°n background!

B·∫°n c√≥ c√¢u h·ªèi c·ª• th·ªÉ n√†o v·ªÅ ng√†nh h·ªçc kh√¥ng?`
            ]
          },
          {
            keywords: ['t∆∞∆°ng lai', 'xu h∆∞·ªõng', 'tri·ªÉn v·ªçng', 'ph√°t tri·ªÉn', 'c∆° h·ªôi'],
            responses: [
              `üöÄ **Xu h∆∞·ªõng v√† tri·ªÉn v·ªçng ngh·ªÅ nghi·ªáp t∆∞∆°ng lai:**

**üî• Top xu h∆∞·ªõng 2024-2030:**
‚Ä¢ AI & Machine Learning (tƒÉng tr∆∞·ªüng 500%)
‚Ä¢ Cybersecurity (thi·∫øu h·ª•t 3.5 tri·ªáu ng∆∞·ªùi)
‚Ä¢ Cloud Computing (tƒÉng 15%/nƒÉm)
‚Ä¢ UI/UX Design (nhu c·∫ßu tƒÉng 300%)
‚Ä¢ Digital Marketing (chuy·ªÉn ƒë·ªïi s·ªë)

**üåç C∆° h·ªôi qu·ªëc t·∫ø:**
‚Ä¢ Remote work cho c√¥ng ty n∆∞·ªõc ngo√†i
‚Ä¢ Outsourcing projects t·ª´ US, EU
‚Ä¢ Startup ecosystem ph√°t tri·ªÉn m·∫°nh
‚Ä¢ Visa c√¥ng ngh·ªá d·ªÖ d√†ng h∆°n

**üí∞ M·ª©c l∆∞∆°ng d·ª± ki·∫øn:**
‚Ä¢ 2025: TƒÉng 20-30% so v·ªõi hi·ªán t·∫°i
‚Ä¢ Senior roles: 50-100 tri·ªáu/th√°ng
‚Ä¢ Leadership positions: 100-200 tri·ªáu/th√°ng

**üìà Lƒ©nh v·ª±c tƒÉng tr∆∞·ªüng:**
‚Ä¢ Healthcare Technology
‚Ä¢ Fintech & Blockchain
‚Ä¢ Green Technology
‚Ä¢ EdTech & E-learning

B·∫°n mu·ªën ƒë·ªãnh h∆∞·ªõng theo xu h∆∞·ªõng n√†o?`
            ]
          }
        ]
      },

      // Greetings and basic interactions
      'greetings': {
        patterns: [
          {
            keywords: ['xin ch√†o', 'ch√†o', 'hello', 'hi', 'alo', 'al√¥', 'hey', 'good morning', 'good afternoon', 'good evening'],
            responses: [
              `Ch√†o b·∫°n! üëã T√¥i l√† AI t∆∞ v·∫•n tuy·ªÉn sinh FPT Polytechnic. 

üéì **T√¥i c√≥ th·ªÉ gi√∫p b·∫°n:**
‚Ä¢ T√¨m hi·ªÉu c√°c ng√†nh h·ªçc hot
‚Ä¢ So s√°nh c∆° h·ªôi ngh·ªÅ nghi·ªáp  
‚Ä¢ T∆∞ v·∫•n l·ªô tr√¨nh h·ªçc t·∫≠p
‚Ä¢ Th√¥ng tin tuy·ªÉn sinh & h·ªçc b·ªïng
‚Ä¢ Gi·∫£i ƒë√°p m·ªçi th·∫Øc m·∫Øc v·ªÅ FPT

üí° **G·ª£i √Ω c√¢u h·ªèi:**
‚Ä¢ "Ng√†nh IT h·ªçc nh·ªØng g√¨?"
‚Ä¢ "M·ª©c l∆∞∆°ng thi·∫øt k·∫ø ƒë·ªì h·ªça?"
‚Ä¢ "ƒêi·ªÅu ki·ªán tuy·ªÉn sinh nh∆∞ th·∫ø n√†o?"
‚Ä¢ "T√¥i d·ªët to√°n c√≥ h·ªçc ƒë∆∞·ª£c IT kh√¥ng?"

B·∫°n quan t√¢m ng√†nh h·ªçc n√†o v·∫≠y? ü§î`,

              `Xin ch√†o! üéâ R·∫•t vui ƒë∆∞·ª£c h·ªó tr·ª£ b·∫°n t√¨m hi·ªÉu v·ªÅ FPT Polytechnic!

üåü **FPT Polytechnic - Top 1 v·ªÅ:**
‚Ä¢ T·ª∑ l·ªá c√≥ vi·ªác l√†m (98%)
‚Ä¢ M·ª©c l∆∞∆°ng kh·ªüi ƒëi·ªÉm cao
‚Ä¢ ƒê·ªëi t√°c doanh nghi·ªáp (500+ c√¥ng ty)
‚Ä¢ C∆° s·ªü v·∫≠t ch·∫•t hi·ªán ƒë·∫°i

üéØ **C√°c ng√†nh ƒë√†o t·∫°o:**
‚Ä¢ üíª C√¥ng ngh·ªá th√¥ng tin
‚Ä¢ üé® Thi·∫øt k·∫ø ƒë·ªì h·ªça  
‚Ä¢ üìà Marketing & Kinh doanh
‚Ä¢ ‚öôÔ∏è K·ªπ thu·∫≠t & C√¥ng ngh·ªá

H√£y cho t√¥i bi·∫øt b·∫°n mu·ªën t√¨m hi·ªÉu v·ªÅ ƒëi·ªÅu g√¨ nh√©! ‚ú®`,

              `Hi b·∫°n! üöÄ Ch√†o m·ª´ng ƒë·∫øn v·ªõi AI t∆∞ v·∫•n FPT Polytechnic!

üìä **Th·ªëng k√™ ·∫•n t∆∞·ª£ng:**
‚Ä¢ 98% sinh vi√™n c√≥ vi·ªác l√†m sau t·ªët nghi·ªáp
‚Ä¢ M·ª©c l∆∞∆°ng trung b√¨nh 12-15 tri·ªáu (fresher)
‚Ä¢ 500+ doanh nghi·ªáp ƒë·ªëi t√°c
‚Ä¢ 95% sinh vi√™n h√†i l√≤ng v·ªõi ch∆∞∆°ng tr√¨nh h·ªçc

üé™ **ƒê·∫∑c bi·ªát t·∫°i FPT:**
‚Ä¢ H·ªçc th·ª±c h√†nh 70%, l√Ω thuy·∫øt 30%
‚Ä¢ Project th·ª±c t·∫ø v·ªõi doanh nghi·ªáp
‚Ä¢ Th·ª±c t·∫≠p c√≥ l∆∞∆°ng t·ª´ nƒÉm 2
‚Ä¢ C∆° h·ªôi l√†m vi·ªác qu·ªëc t·∫ø

B·∫°n ƒëang bƒÉn khoƒÉn v·ªÅ v·∫•n ƒë·ªÅ g√¨? T√¥i s·∫µn s√†ng t∆∞ v·∫•n! üí™`
            ]
          }
        ]
      }
    };
  }
}
